import React from 'react';
import SuggestionItem from '../SuggestionItem';
import {Suggestion} from '../SearchBar'
import './suggestionBox.scss';

interface SuggestionBoxProps {
	showSuggestionBox: boolean;
	inputValueLength: number;
	suggestions: Suggestion[];
	selectedSuggestionIndex: number;
	handleSuggestionClick: (suggestion: Suggestion) => void;
    setShowSuggestionBox: (value: boolean) => void;
	cities: string[]
}

const SuggestionBox: React.FC<SuggestionBoxProps> = ({
	showSuggestionBox,
	inputValueLength,
	suggestions,
	selectedSuggestionIndex,
	handleSuggestionClick,
    setShowSuggestionBox,
	cities
}) => {
	if (showSuggestionBox && inputValueLength < 2) {
		return (
			<div className="suggestion-box">
				<div className="inner-suggestion-box">
					<div className="header">
						<div className="hand-avatar">
							<svg
								xmlnsXlink="http://www.w3.org/1999/xlink"
								viewBox="0 0 154 154"
								xmlns="http://www.w3.org/2000/svg"
								fill="#FFFFFF"
								width="154"
								height="154"
							>
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M88.5692 26.4034C88.5791 26.4584 88.5894 26.5444 88.5926 26.6714C88.6058 27.1867 88.478 27.9837 88.1436 29.0771C87.483 31.2373 86.1953 33.9977 84.6673 36.9075C83.2318 39.641 81.635 42.4127 80.2482 44.8199C80.1695 44.9565 80.0914 45.092 80.0141 45.2263C78.6238 47.6403 77.3751 49.8132 76.9047 51.004C76.4775 52.0852 76.1716 53.0402 76.0103 53.8712C75.8565 54.6639 75.7893 55.5598 76.0606 56.4072C76.3819 57.411 77.1007 58.11 77.9983 58.4292C78.7564 58.6987 79.5404 58.6639 80.1617 58.5786C80.6806 58.5075 81.1318 58.2622 81.4054 58.0994C81.7304 57.906 82.0767 57.6589 82.427 57.3872C83.1306 56.8416 83.9695 56.1037 84.8801 55.256C86.7072 53.5549 88.9317 51.3091 91.1372 49.023C93.5054 46.5683 95.8254 44.0964 97.6592 42.1425C99.2943 40.4003 100.543 39.0699 101.095 38.5308C101.371 38.2601 101.67 37.9557 101.987 37.6326C103.202 36.393 104.688 34.878 106.261 33.9387C107.238 33.3556 107.962 33.1821 108.449 33.2429C108.788 33.2851 109.308 33.4705 109.92 34.5386C110.031 34.7322 110.218 35.4557 109.117 37.3252C108.103 39.0478 106.353 41.1228 104.093 43.5078C102.431 45.2617 100.483 47.1887 98.4372 49.2132C95.1002 52.5149 91.5012 56.0757 88.4532 59.5671C88.3958 59.6329 88.3078 59.7287 88.1961 59.8504C87.6129 60.4857 86.3837 61.8245 85.4889 63.2592C84.9548 64.1156 84.4193 65.1849 84.2472 66.3295C84.062 67.5614 84.2976 68.9961 85.456 70.1475C86.9143 71.597 88.7352 71.5542 90.1916 71.1144C91.6284 70.6805 93.1424 69.7556 94.5983 68.7111C96.0807 67.6476 97.6517 66.3486 99.2007 65.0528C99.385 64.8987 99.5689 64.7446 99.7525 64.5908C101.132 63.4351 102.494 62.294 103.823 61.2726C108.795 57.4507 112.191 55.3108 114.49 54.4848C115.632 54.0745 116.283 54.0723 116.619 54.1535C116.849 54.209 117.056 54.325 117.299 54.7494L117.299 54.7496C117.302 54.7536 117.303 54.7554 117.304 54.7646C117.307 54.777 117.313 54.8166 117.305 54.8928C117.289 55.0584 117.217 55.3343 117.017 55.7276C116.61 56.5265 115.852 57.4712 114.868 58.4607C112.922 60.4182 110.486 62.1669 109.561 62.7931C108.571 63.4633 104.109 66.5902 99.9908 69.9658C97.939 71.6478 95.9176 73.4361 94.4509 75.0393C93.7233 75.8346 93.0718 76.649 92.6256 77.4319C92.2441 78.1014 91.7213 79.237 92.0686 80.4739C92.377 81.5725 93.1516 82.2699 93.8943 82.6789C94.6133 83.075 95.441 83.2864 96.2338 83.4071C97.8307 83.6501 99.811 83.5974 101.809 83.4124C105.841 83.0389 110.436 82.0753 113.306 81.3438C115.289 80.8385 116.299 81.1179 116.725 81.3412C117.091 81.5331 117.174 81.7531 117.185 81.7816C117.186 81.7856 117.186 81.7858 117.186 81.7816L117.191 81.8109L117.197 81.8405C117.224 81.9657 117.253 82.5196 116.727 83.1695C116.207 83.8106 115.033 84.6716 112.474 85.0802C105.269 86.2307 96.2149 88.4107 89.1031 92.5173C88.5328 92.8466 87.9656 93.1724 87.402 93.4962C81.2971 97.0031 75.6109 100.269 70.8918 105.144L70.876 105.16L70.8606 105.177C66.9969 109.375 59.6196 114.169 50.1967 114.734C49.5652 114.772 48.9234 114.791 48.2716 114.789C50.1225 107.739 50.112 101.309 50.1081 98.8803C50.1079 98.7765 50.1077 98.68 50.1077 98.5911C50.1077 93.4177 49.9313 91.5532 49.073 83.6327C48.7003 80.1943 47.6472 74.9363 46.4138 69.8569C45.1821 64.7844 43.7291 59.7185 42.5196 56.6845C41.8598 55.0292 40.9134 53.5041 40.0448 52.198C39.7593 51.7687 39.4902 51.3737 39.2384 51.0042C38.6762 50.1791 38.2009 49.4816 37.8251 48.8153C37.3965 48.0554 37.3233 47.7047 37.3083 47.5971C37.4011 47.507 37.6887 47.2997 38.467 47.0828C39.2536 46.8637 40.3434 47.0675 41.8301 48.0206C43.2965 48.9607 44.8794 50.4642 46.4592 52.2874C49.6086 55.922 52.4381 60.4647 53.9525 63.1399C54.7485 64.5462 55.549 65.7338 56.4329 66.5346C57.4041 67.4144 58.606 67.929 59.9571 67.6307C61.1028 67.3778 62.0522 66.5895 62.837 65.7946C63.6586 64.9625 64.5525 63.8514 65.5401 62.5929C66.6347 61.1983 68.2175 58.5708 69.9455 55.5099C71.6967 52.408 73.6647 48.7379 75.5436 45.1725C77.0666 42.2826 78.5361 39.4519 79.7878 37.0407C80.0808 36.4763 80.3619 35.9349 80.6289 35.421C82.0685 32.6511 83.0414 30.7998 83.3265 30.3484C83.5181 30.045 83.7033 29.7394 83.8863 29.4375C84.5514 28.34 85.1877 27.29 86.0026 26.5606C86.4722 26.1403 86.8601 25.9709 87.1851 25.9388C87.46 25.9116 87.8983 25.9606 88.5692 26.4034ZM37.2695 47.6441C37.2701 47.6443 37.2742 47.6392 37.2797 47.6281C37.2716 47.6383 37.2688 47.6438 37.2695 47.6441ZM43.0858 118.276C34.2293 116.902 24.3443 112.023 14.1638 101.434C-1.61622 85.0196 -16.8605 77.086 -29.5737 73.2361C-41.6922 69.5663 -51.5749 69.5828 -57.6454 69.5929C-57.9533 69.5935 -58.2514 69.594 -58.5395 69.594L-58.7176 65.6854C-58.4232 65.6854 -58.1172 65.6848 -57.7997 65.6843C-51.6828 65.673 -41.3311 65.6541 -28.6649 69.4897C-15.3212 73.5306 0.520825 81.8227 16.7929 98.7486C26.7812 109.138 36.2075 113.497 44.357 114.535C46.3251 107.657 46.3195 101.143 46.3173 98.6319C46.3172 98.5531 46.3172 98.4783 46.3172 98.4075C46.3172 93.4598 46.1608 91.7725 45.3061 83.8855C44.9624 80.7143 43.9593 75.6616 42.7391 70.6368C41.5173 65.6049 40.1194 60.7729 39.0232 58.0229C38.5301 56.7861 37.7837 55.5561 36.9508 54.3036C36.7379 53.9834 36.5115 53.6512 36.2819 53.3141C35.6719 52.4186 35.0385 51.4888 34.5709 50.6597C33.9674 49.5898 33.2257 48.0152 33.6299 46.4169C34.0771 44.649 35.6344 43.7757 37.3198 43.3061C39.5595 42.6821 41.8069 43.5014 43.7205 44.7281C45.6542 45.9677 47.5345 47.8006 49.2327 49.7605C52.6395 53.6922 55.626 58.503 57.2036 61.2899C57.9535 62.6148 58.4868 63.3151 58.8581 63.6515C58.9434 63.7288 59.0039 63.7716 59.0403 63.7942C59.1707 63.7461 59.5063 63.5622 60.1169 62.9437C60.773 62.2792 61.5463 61.3274 62.5495 60.0492C63.4458 58.9071 64.8986 56.5233 66.6467 53.427C68.3715 50.3717 70.32 46.7387 72.1934 43.1837C73.7105 40.3051 75.1733 37.4872 76.4249 35.0764C76.7185 34.5108 77.0005 33.9675 77.2689 33.4512C78.6492 30.7951 79.7278 28.7319 80.1211 28.1091C80.2309 27.9352 80.3569 27.7252 80.4982 27.4896C81.1663 26.3755 82.1773 24.6898 83.4422 23.5576C84.2585 22.827 85.3221 22.1789 86.6485 22.0478C88.0083 21.9134 89.384 22.3475 90.7273 23.292C92.0021 24.1885 92.3526 25.6091 92.3818 26.752C92.4111 27.8971 92.1448 29.164 91.7638 30.4098C90.9937 32.9278 89.5664 35.9466 88.02 38.8914C86.5495 41.6916 84.9194 44.5211 83.5392 46.9166C83.4576 47.0582 83.3769 47.1983 83.2972 47.3368C81.8195 49.9025 80.7659 51.7592 80.425 52.6223C80.1345 53.3576 79.9411 53.9434 79.8218 54.4032C79.8948 54.3495 79.974 54.2898 80.0593 54.2236C80.6389 53.7742 81.3876 53.1199 82.268 52.3002C84.0228 50.6664 86.1936 48.4765 88.3882 46.2018C90.6291 43.879 92.9216 41.4382 94.7767 39.4631C96.498 37.6305 97.8426 36.1989 98.4198 35.6348C98.6036 35.4552 98.8289 35.2241 99.0891 34.9573C100.288 33.7279 102.226 31.74 104.248 30.5329C105.493 29.7894 107.057 29.1542 108.729 29.3629C110.551 29.5901 112.062 30.7522 113.161 32.6698C114.482 34.9768 113.535 37.508 112.382 39.4664C111.143 41.5717 109.146 43.8978 106.864 46.3057C105.026 48.2458 103.005 50.2422 100.932 52.2905C97.6926 55.4909 94.3248 58.8182 91.3234 62.2564C91.2106 62.3856 91.0721 62.5374 90.9159 62.7087C90.2949 63.3895 89.393 64.3782 88.7054 65.4807C88.2762 66.169 88.051 66.7231 87.9937 67.1043C87.9531 67.3745 88.0058 67.391 88.0173 67.3946C88.0183 67.395 88.019 67.3952 88.0193 67.3955C88.0598 67.4358 88.0896 67.4565 88.1798 67.4696C88.3065 67.488 88.5569 67.4841 88.9707 67.3591C89.825 67.1011 90.9497 66.4634 92.3365 65.4685C93.6968 64.4925 95.1725 63.2752 96.7305 61.9718C96.9123 61.8198 97.0951 61.6666 97.2789 61.5126C98.6513 60.3629 100.075 59.1702 101.467 58.0999C106.432 54.2833 110.218 51.8206 113.095 50.7871C114.54 50.2676 115.975 50.0258 117.317 50.3499C118.765 50.6996 119.828 51.638 120.54 52.8806C121.535 54.6187 121.028 56.4194 120.391 57.6702C119.727 58.9731 118.661 60.2326 117.579 61.3203C115.395 63.5173 112.742 65.4151 111.744 66.0909C110.811 66.7227 106.442 69.7838 102.434 73.0694C100.423 74.718 98.5573 76.3787 97.2651 77.7911C96.6694 78.4423 96.2456 78.987 95.986 79.4113C96.1503 79.4567 96.3574 79.5019 96.6136 79.5409C97.7607 79.7154 99.3886 79.6959 101.295 79.5193C105.071 79.1695 109.469 78.2519 112.235 77.5468C114.761 76.9028 116.782 77.0708 118.314 77.8738C119.839 78.6733 120.674 80.0054 120.903 81.2004C121.178 82.5272 120.898 84.2564 119.683 85.7568C118.451 87.2769 116.371 88.441 113.225 88.9435C106.166 90.0706 97.6218 92.1669 91.0715 95.9492C90.5209 96.2671 89.9774 96.5797 89.4411 96.8881C83.2488 100.449 78.001 103.467 73.6517 107.954C69.267 112.709 61.0794 118.007 50.5937 118.636C49.4427 118.705 48.2672 118.718 47.0691 118.668C46.2626 120.901 45.2423 123.134 43.9518 125.266C40.7349 130.58 35.8358 135.272 28.4456 137.74C21.0827 140.199 11.4097 140.397 -1.27623 137.053C-17.1227 132.875 -31.9967 125.151 -42.8738 118.506C-48.3209 115.179 -52.7854 112.11 -55.8918 109.87C-57.4454 108.75 -58.6603 107.836 -59.4897 107.2C-59.9044 106.883 -60.2228 106.634 -60.4391 106.464C-60.5472 106.379 -60.6298 106.313 -60.6862 106.268L-60.7509 106.216L-60.7683 106.202L-60.7732 106.198L-60.7747 106.197C-60.7752 106.197 -60.7756 106.196 -59.6515 104.679C-58.5274 103.162 -58.5275 103.162 -58.5276 103.162L-58.5272 103.162L-58.5246 103.164L-58.5119 103.174L-58.4567 103.218C-58.4068 103.258 -58.3307 103.319 -58.2293 103.399C-58.0264 103.558 -57.7219 103.796 -57.3217 104.103C-56.5213 104.717 -55.3382 105.606 -53.8193 106.701C-50.7808 108.892 -46.4023 111.902 -41.0571 115.168C-30.3496 121.708 -15.8422 129.225 -0.501096 133.269C11.7048 136.486 20.6154 136.191 27.1262 134.016C33.6097 131.851 37.8744 127.77 40.7098 123.086C41.6508 121.532 42.434 119.912 43.0858 118.276ZM95.7394 79.9119C95.7394 79.9119 95.7397 79.9108 95.7401 79.9086L95.7394 79.9119ZM88.5549 26.3418C88.5505 26.3271 88.5473 26.3211 88.5468 26.3217C88.5464 26.3223 88.5486 26.3297 88.5549 26.3418Z"
								></path>
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M139.45 85.8429C138.415 85.598 137.414 86.2457 137.213 87.2896C136.877 89.0292 135.681 91.992 134.021 94.8867C132.341 97.8178 130.417 100.27 128.821 101.289C127.944 101.849 127.706 103.044 128.29 103.958C128.875 104.873 130.059 105.161 130.937 104.601C133.316 103.083 135.604 99.9618 137.337 96.9378C139.092 93.8774 140.511 90.5028 140.959 88.1766C141.16 87.1326 140.485 86.0878 139.45 85.8429Z"
								></path>
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M149.582 77.8111C148.536 77.6379 147.583 78.3553 147.453 79.4135C147.182 81.6167 145.295 87.6551 142.4 94.0958C139.499 100.548 135.806 106.9 132.146 109.995C131.351 110.668 131.267 111.89 131.959 112.725C132.651 113.56 133.856 113.693 134.651 113.02C138.989 109.352 142.961 102.317 145.881 95.8216C148.806 89.3148 150.895 82.8448 151.24 80.0408C151.37 78.9826 150.628 77.9844 149.582 77.8111Z"
								></path>
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M25.3884 26.7582C24.3932 26.4037 23.2866 26.9301 22.9167 27.934C20.2665 35.1267 18.683 44.4763 20.5096 55.2996C20.6863 56.3463 21.6782 57.0373 22.7251 56.843C23.772 56.6487 24.4775 55.6426 24.3009 54.5959C22.5987 44.5105 24.078 35.8471 26.5207 29.2176C26.8905 28.2138 26.3836 27.1126 25.3884 26.7582Z"
								></path>
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M24.759 8.96241C23.9136 8.30093 22.709 8.44192 22.0682 9.27731C20.9411 10.747 18.9144 14.7601 17.1004 20.0963C15.2637 25.4994 13.5736 32.4643 13.2369 39.9237C13.1889 40.9869 14.009 41.9062 15.0686 41.9769C16.1282 42.0477 17.0261 41.2431 17.0741 40.1799C17.3905 33.1714 18.9851 26.5696 20.7383 21.4122C22.5142 16.1878 24.3827 12.6465 25.1295 11.6728C25.7702 10.8374 25.6043 9.6239 24.759 8.96241Z"
								></path>
							</svg>
						</div>
						<div className="suggestion-words">
							<h5>Quelques examples que vous pouvez recherchez</h5>
							{cities.map((city, index) => (
								<span key={index} className="word">
									{city}
								</span>
							))}
						</div>
						<button
							className="close-btn"
							onClick={() => setShowSuggestionBox(false)}
						>
							<svg
								xmlnsXlink="http://www.w3.org/1999/xlink"
								viewBox="0 0 24 24"
								xmlns="http://www.w3.org/2000/svg"
								fill="#FFFFFF"
								width="24"
								height="24"
							>
								<path
									fillRule="evenodd"
									clipRule="evenodd"
									d="M19 6.4L17.6 5L12 10.6L6.4 5L5 6.4L10.6 12L5 17.6L6.4 19L12 13.4L17.6 19L19 17.6L13.4 12L19 6.4Z"
								></path>
							</svg>
						</button>
					</div>
				</div>
			</div>
		);
	} else if (showSuggestionBox && inputValueLength >= 2) {
		return (
			<div className="suggestion-box" id="suggestion-box" role="listbox">
				<SuggestionItem
					suggestions={suggestions}
					selectedSuggestionIndex={selectedSuggestionIndex}
					handleSuggestionClick={handleSuggestionClick}
				/>
			</div>
		);
	} else {
		return null;
	}
};

export default SuggestionBox;
